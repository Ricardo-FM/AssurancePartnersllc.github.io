(()=>{var t={197:t=>{t.exports=(_bb$iter=function(t,e){var n={};function a(e){if(!n.hasOwnProperty(e)){var r={exports:{}},i=t[e][0],s=t[e][1];n[e]=r.exports,i((c=s,function(t){var e=c[t];if(o(e))return a(e);for(var n=a.next;n;n=n.next)if(n.has(e))return n.get(e);for(var r=a.prev;r;r=r.prev)if(r.has(e))return r.get(e);throw new Error("Module '"+t+"' with id "+e+" was not found")}),r,r.exports),n[e]=r.exports}var c;return n[e]}function o(e){return t[e]}if(a.get=a,a.has=o,a.next="undefined"==typeof _bb$iter?null:_bb$iter,e.length)for(var r=a,i=a.next;i;)i.prev=r,r=i,i=i.next;return e.forEach(a),a}({1:[function(t,e,n){function a(){var t={},e=document.getElementsByTagName("head")[0]||document.documentElement;function n(n){"string"==typeof n&&(n={url:n});var a=n.id||n.url,o=t[a];if(o)return console.log("load-js: cache hit",a),o;if(!1!==n.allowExternal){var r=function(t){var e=t&&document.getElementById(t);if(e&&"watermark"!==e.loadJS)return console.warn("load-js: duplicate script with id:",t),e}(n.id)||function(t){var e=t&&document.querySelector("script[src='"+t+"']");if(e&&"watermark"!==e.loadJS)return console.warn("load-js: duplicate script with url:",t),e}(n.url);if(r){var i=Promise.resolve(r);return a&&(t[a]=i),i}}if(!n.url&&!n.text)throw new Error("load-js: must provide a url or text to load");var s=(n.url?function(t,e){return new Promise((function(n,a){var o=!1;e.onload=e.onreadystatechange=function(){o||e.readyState&&"loaded"!==e.readyState&&"complete"!==e.readyState||(o=!0,e.onload=e.onreadystatechange=null,n(e))},e.onerror=a,t.appendChild(e)}))}:function(t,e){return t.appendChild(e),Promise.resolve(e)})(e,function(t){var e=document.createElement("script");return e.charset=t.charset||"utf-8",e.type=t.type||"text/javascript",e.async=!!t.async,e.id=t.id||t.url,e.loadJS="watermark",t.url&&(e.src=t.url),t.text&&(e.text=t.text),e}(n));return a&&!1!==n.cache&&(t[a]=s),s}return function(t){return t instanceof Array?Promise.all(t.map(n)):n(t)}}e.exports=a(),e.exports.create=a},{}]},[1]),_bb$iter(1))}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=t=>()=>{try{t.apply(void 0)}catch(t){console.error(t)}},e=(t,e=document.cookie)=>{var n;return(null===(n=e.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))||void 0===n?void 0:n.pop())||""};function a(t,e){return Object.prototype.toString.call(e).slice(8,-1)===t}function o(t){return a("Object",t)}function r(t){return a("String",t)}function i(t){return a("Function",t)}function s(t){return a("Undefined",t)}const c=(t,e)=>{const n={};for(const[a,o]of t){const t=a.toLowerCase();e.includes(t)&&(n[t]=o)}return n},d="LT_MKT_TRACK",l=["esourceid","cchannel","csource","cterm","cname","cmethod","ccontent","ppckw","adid","cpad","adtest","siteid","mid","800num","cspage","cepage","pdv","ccode","iid","cspage_v","cepage_v","hpversion","cproduct","ccreative","ctype","gclid","mpid","cgroup","ccampaign"];function m(t){const e=new URLSearchParams(t);return c(e,l)}function u(){return m(e(d))}function g(t){if(!t)return;const e=u();return s(e)?void 0:e[t.toLowerCase()]}let f={};const p=t=>{o(t)&&(f=Object.assign(f,t))},w=(t,e)=>{const n=t[e];return i(n)?t[e]=n():t[e]=n,t},h=t=>r(t)?w({...f},t)[t||""]:Object.keys(f).reduce(w,{...f}),y=(t="")=>{let e=t||window.location.hostname;if(e){const t=e.split(".").reverse();t&&t.length>1&&(e=`${t[1]}.${t[0]}`)}return e},v=(t="MKT_TRACK")=>{const n=e(t);if(n){const t=decodeURIComponent(n);if(s(t))return;return JSON.parse(t)}},T=t=>new URLSearchParams(location.search).get(t)||"",C=(t,n="MKT_TRACK")=>{const a=e(n,t);if(a){const t=decodeURIComponent(a);if(t)return JSON.parse(t)}},k=["icode","icid","agent_name","_mid","mailingname","promotion-experience","spid","lpid"],M={get(){const t=new URLSearchParams(location.search);return c(t,k)}},b=document.referrer,_=b?new URL(document.referrer).hostname:null,I=Object.fromEntries(new URLSearchParams(location.search)),S="MKT_TRACK",O="UserOriginationData";let L=null,P=!1;const E=t=>{let e="";const n=v();return e="API"===t?!s(n&&n.mtaid)&&n.mtaid===T("mtaid")||T("mtaid")?"URL":"API":s(n&&n.mtaid)?"":"Cookie",{MTAIDSource:e}},A=t=>{if(t&&t.length>0){const n=t.reduce(((t,n)=>(n.startsWith(S)?Object.assign(t,C(n)):n.startsWith("LT_MKT_TRACK")?Object.assign(t,m(e(d,n))):n.startsWith(O)&&Object.assign(t,C(n,O)),t)),{});if(Object.keys(n).length>0&&(Object.assign(n,M.get()),p(n)),Object.keys(n).length>0){const t=n.mtaid?E("API"):{};Object.assign(n,t),p(n)}}else{const t={...u(),...v(),...M.get(),...v(O),...E(null)};p(t)}const n=new CustomEvent("TRACKING_READY");document.documentElement.dispatchEvent(n),P=!0},j=(t=>{const e={};let n;return(...a)=>(n=JSON.stringify(a),e[n]||(e[n]=t.call(null,...a)))})((t=>{let e={};try{const n=h();if(s(n)||s(n.esourceid)){const t=m(location.search);t.esourceid&&Object.assign(n,t)}n.AnonymousId&&delete n.AnonymousId,n.timestamp&&delete n.timestamp,e={isTrackingReady:t,...n}}catch(t){console.error(t)}return e})),K=(t={})=>({...t,...j(P)});var R=n(197),x=n.n(R);window.dataLayer=window.dataLayer||[];const D=()=>{},G=(t,e)=>{setTimeout((()=>{if(window.ltanalytics._loaded){const n=new CustomEvent(t,{detail:e});document.documentElement.dispatchEvent(n)}if(!window.disablegtm){let n="page";"lt-analytics-track"===t&&(n="track"),((t,e)=>{if(t&&Object.keys(t).length>0){if("page"===e){const e=t.category&&t.name?t.category+" "+t.name:t.name;t.event="Loaded a Page",e&&(t.event="Viewed "+e+" Page")}else t.event=t.name||t.trackEventName||"";window.dataLayer.push(t)}})(e,n)}}),100)},N=(t,e,n,a)=>{i(n)&&(a=n,n=null),i(e)&&(a=e,n=null,e=null),t||(t=""),(e=e||{}).name=t,e.eventName=t,G("lt-analytics-track",K(e)),i(a)&&setTimeout((()=>{a()}),300)},W=(t,e,n,a,s)=>{i(a)&&(s=a,a=null),i(n)&&(s=n,a=n=null),i(e)&&(s=e,a=n=e=null),o(t)&&(a=e,n=t,e=t=null),o(e)&&(a=n,n=e,e=null),r(t)&&!r(e)&&(e=t,t=null),t||(t=""),e||(e=""),(n=n||{}).category=t,n.name=e,n.eventName=e,G("lt-analytics-page",K(n)),i(s)&&setTimeout((()=>{s()}),300)},U=t=>{if(i(t))t();else if(Array.isArray(t)){const e=t.shift();if(!i(window.ltanalytics[e]))return;window.ltanalytics[e].apply(void 0,t)}},B=t=>{if(t)try{window.localStorage.setItem("ltanalytics_user_id",t)}catch(t){console.error(t)}},$=t=>t&&0===Object.keys(t).length,F=(t,e)=>{i(t)&&(e=t,t=null);let n={},a={},r={};o(t)&&!$(t)?(n=(t=>{const e={};let n;for(n in t)e[n.toLowerCase()]=t[n];return e})(t),o(n.eventdata)&&!$(n.eventdata)?(n.eventname||(n.eventname="CrossSell Tracking Event"),a=K(),$(a)||(n.eventmarketingdata=a),r={path:window.location.pathname||"",domain:window.location.hostname||"",query:window.location.search||"",timestamp:Date.now()},$(r)||(n.eventcommontrackingdata=r),$(n)||"displayed"!==n.eventname&&"clicked"!==n.eventname||("offers-ui"!==n.eventdata.displaying_app&&"template-renderer"!==n.eventdata.displaying_app||(n["qf-product"]=n.eventdata.product||"",n.qformuid=n.eventdata.qformuid||"",n["qf-match-status"]=n.eventdata.offers_page_match_state||"",n["qf-variation"]=n.eventdata.offers_voffers||"",n.offers_fvoffers=n.eventdata.offers_fvoffers||""),n.trackEventName="Kafka Displayed/Clicked Payload",G("lt-analytics-track",n))):o(n.eventdata)||console.warn("LT Launch/tracking calls/postToKafka: EventData is not in proper foramt. Current Format: "+typeof n.eventdata)):o(t)||console.warn("LT Launch/tracking calls/postToKafka: CrossSell data is not in proper foramt. Current Format: "+typeof t),i(e)&&setTimeout((()=>{e()}),300)},J=()=>{let t;for(window.ltanalytics=Object.assign(window.ltanalytics,{track:N,page:W,push:U,ready:U,identify:B,postToKafka:F,getAndApplyOffers:D,trackSubmit:D,trackClick:D,trackLink:D,trackForm:D,pageview:D,reset:D,group:D,alias:D,debug:D,once:D,off:D,on:D});t=window.ltanalytics.shift();)U(t)},q={preprod:"-staging",stage:"-staging",dev:"-development",local:"-development"}.prod||"",V=t=>{P?t():document.documentElement.addEventListener("TRACKING_READY",(()=>{t()}))};let Z;const X=t=>{const n=/iPad/.test(navigator.userAgent)?"iPad":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"mobile":"desktop";let a={domain:y(),referrer:document.referrer,device:n,eventname:t,type:"Analytics Bootstrap"};if(window.Visitor){const t=window.Visitor.getInstance("2E96401053DB518E0A490D4C@AdobeOrg");a.adobevisitorid=Z||t.getMarketingCloudVisitorID()}if(a.clicksessionid=(()=>{if(h("ClickSessionId"))return h("ClickSessionId");const t=v();return s(t)&&T("mtaid")&&T("sessionid")?T("sessionid"):s(t&&t.ClickSessionId)?"":t.ClickSessionId})(),"ltanalytics_page_fires"===t){const t=new URLSearchParams(e("aam_lt"));let n=Object.fromEntries(t);const o=e("uuid_lt")||"";n&&(n=n.aam_lt||""),a=Object.assign(a,{aamid:n,uuid:o})}return a||{}};window.buildReferralPixelTrackingProperties=X;const Q=t=>{(t=>{const e=new URL("https://www.lendingtree.com/pixel/t");fetch(e.toString(),{method:"post",credentials:"include",keepalive:!0,body:JSON.stringify(t)}).catch(console.error)})(X(t))},Y=[()=>{const t=window.location.search;t.match(/[?&]disablesegment\b/i)&&(window.disablesegment=!0),t.match(/[?&]disablelaunch\b/i)&&(window.disablelaunch=!0),t.match(/[?&]disablegtm\b/i)&&(window.disablegtm=!0)},()=>{const t=window.ltanalytics=window.ltanalytics||[];t.methods=["getAndApplyOffers","trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","push","once","off","on","postToKafka"],t.factory=e=>function(){const n=[].slice.call(arguments);return n.unshift(e),t[t.length]=n,t};for(let e=0;e<t.methods.length;e++){const n=t.methods[e];t[n]=t.factory(n)}window.ltanalytics=Object.assign(window.ltanalytics,{getParameterByName:g,getTrackProperties:K})},()=>{window.fireLaunchstrapBeginsOnce||((t=>{if(window.Visitor){const e=window.Visitor.getInstance("2E96401053DB518E0A490D4C@AdobeOrg");e.getMarketingCloudVisitorID()?Q(t):e.getMarketingCloudVisitorID((e=>{Z=e,Q(t)}))}else Q(t)})("launch_strap_begins"),window.fireLaunchstrapBeginsOnce=!0)},()=>{if((()=>{const t=e(S);if(t&&(L=JSON.parse(decodeURIComponent(t))),!L)return!0;if(b&&_&&-1===_.indexOf(y()))return!0;if(L&&I.mtaid&&I.mtaid.toLowerCase()!==L.mtaid.toLowerCase())return!0;if(L&&L.timestamp){const t=864e5,e=new Date(L.timestamp),n=(new Date).toISOString();return new Date(n)-e>t}return!P})()){const t=new URL("https://splitter.lendingtree.com/api/general/details");t.searchParams.set("originalReferrer",document.referrer),t.searchParams.set("originalURL",document.URL),fetch(t.toString(),{credentials:"include",keepalive:!0}).then((t=>t.json())).then((({cookies:t})=>{if(!location.hostname.endsWith("lendingtree.com"))for(const e of t)document.cookie=e;A(t)})).catch((t=>{console.error(t),A([])}))}else A([])},()=>{V((()=>{(()=>{var t;if(window.disablelaunch)return;if(!window.launch_key)return;const e=(null===(t=window.launch_key)||void 0===t?void 0:t.startsWith("launch-"))?`${window.launch_key}${q}`:`launch-${window.launch_key}${q}`;x()([{url:`https://assets.adobedtm.com/${e}.min.js`,async:!0}]).then((()=>{window.ltanalytics._loaded||(window.ltanalytics._loaded=!1,console.error("Launch did not validate loading with ltanalytics._loaded == true"))})).catch((t=>{window.ltanalytics._loaded=!1,console.error("ERROR Loading Adobe Launch",t)})).finally(J)})()}))},()=>{V((()=>{(()=>{const t=window.location.hostname,e=window.location.pathname.toLowerCase(),n=[{stringToMatch:t,stringToCompare:"offers.",gtmContainerId:t.includes("magnifymoney.com")?"GTM-MXN3F4":""},{stringToMatch:t,stringToCompare:"magnifymoney.com",gtmContainerId:"GTM-MXN3F4"},{stringToMatch:t,stringToCompare:"depositaccounts.com",gtmContainerId:"GTM-PMML277"},{stringToMatch:e,stringToCompare:"/app/offers",gtmContainerId:t.startsWith("business.")?"GTM-M87M9C":""},{stringToMatch:e,stringToCompare:"/app/login/callback",gtmContainerId:t.startsWith("business.")?"GTM-M87M9C":""},{stringToMatch:t,stringToCompare:"business.",gtmContainerId:"GTM-KW3CKJQ"},{stringToMatch:t,stringToCompare:"myoffers.",gtmContainerId:"GTM-M87M9C"},{stringToMatch:e,stringToCompare:"/offers",gtmContainerId:"GTM-M87M9C"},{stringToMatch:e,stringToCompare:"/myresults",gtmContainerId:"GTM-M87M9C"},{stringToMatch:t,stringToCompare:"mc.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:t,stringToCompare:"spring.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:e,stringToCompare:"/form/",gtmContainerId:"GTM-W5DKKXF"},{stringToMatch:e,stringToCompare:"/forms/",gtmContainerId:"GTM-W5DKKXF"},{stringToMatch:t,stringToCompare:"mylt.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:t,stringToCompare:"my.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:t,stringToCompare:"equifax.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:t,stringToCompare:"myblock.",gtmContainerId:"GTM-PS7KWZ"},{stringToMatch:t,stringToCompare:"lendingtree.com",gtmContainerId:t.startsWith("www.")&&!t.includes("comparecards")?"GTM-PB2FNQ":""}];let a="";for(const t of n)if(t.stringToMatch.includes(t.stringToCompare)&&(a=t.gtmContainerId,a))break;!a||window.disablegtm||window.google_tag_manager&&(!window.google_tag_manager||window.google_tag_manager[a])||function(t,e,n,a,o){t[a]=t[a]||[],t[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=e.getElementsByTagName(n)[0],i=e.createElement(n);i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o,r.parentNode.insertBefore(i,r)}(window,document,"script","dataLayer",a)})()}))}];for(const e in Y)t(Y[e])()})()})();
//# sourceMappingURL=lta-launchstrap.min.js.map